{% extends "base.html"%}

    {% block head %}

        <h1 style="text-align:center">Welcome To the todo app</h1>

    {% endblock %}

    {% block content %}

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="flash-messages">
                {% for message in messages %}
                    <div class="alert alert-info" role="alert">
                    {{ message}}
                    </div>
                {% endfor %}
                </div>
            {% endif %}
        {% endwith %}


    <div class="table-container">
        <h1 style="text-align:center">Task Master</h1>
        
        {% if tasks|length < 1 %}
        <h4 style="text-align:center">There is no tasks yet</h4>

        {% else %}

            <table>
                <tr>
                    <th>Task</th>
                    <th>Added</th>
                    <th>Due</th>
                    <th>status</th>
                    <th>mark</th>
                    <th>Actions</th>
                    
                </tr>

                {% for task in tasks %}

                    <tr>
                        <td> 

                            {% if task.completed %}
                                âœ… <s>{{ task.content }}</s>
                            {% else %}
                                ðŸ•“ {{ task.content }}

                            {% endif %}
                        </td>

                        <td> {{task.date_created.date()}} </td>
                        <td>{{task.due if task.due else 'â€”'}}</td>

                        <td>
                            {% if task.completed %}
                                Done
                            {% else %}
                                Pending
                            {% endif %}
                        </td>
                        <td>
                            {% if not task.completed %}
                                <a href="/complete/{{ task.id }}">Mark Complete</a><br>
                            {% endif %}
                        <td>
                            <a href="/delete/{{task.id}}">Delete</a>
                            <br>
                            <br>
                            <a href="/update/{{task.id}}">Update</a>
                        </td>
                    </tr>
                
                {% endfor %}
            
        {% endif %}

        </table>

        <form action="/" method="POST">
            <input type="text" name="content" id="content" placeholder="Enter your task">
            <input type="date" name="due" id="due">
            <input type="submit" value="Add Task">
        </form>
        
    </div>
    
    
    {% endblock %}

<!-- to insert an img -->
<!-- <image src="{{url_for('static',filename='images/img001.png')}}"> -->

